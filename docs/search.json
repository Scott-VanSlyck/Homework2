[
  {
    "objectID": "Homework2.html",
    "href": "Homework2.html",
    "title": "Rprogram",
    "section": "",
    "text": "Task 1:Basic Vector practice\nPre and post treatment blood pressure values\n\npre_bp = c(130, 128, 116, 124, 133, 134, 118, 126, 114, 127, 141, 138, 128, 140, 137, 131, 120, 128, 139, 135)\n\npost_bp = c(114, 98, 113, 99, 107, 116, 113, 111, 119, 117, 101, 119, 130, 122, 106, 106, 124, 102, 117, 113)\n\nAssigning subject names for both pre and post treatment vectors\n\npatient = paste(\"Subject\", 1:20, sep = \"_\")\n\nnames(pre_bp) = patient\n\nnames(post_bp) = patient\n\nCalculating blood pressure change from pre to post treatment\n\ndiff_bp = post_bp - pre_bp\n\nFinding the mean average change in blood pressure (negative means lower post treatment compared to pre treatment)\n\naverage_decrease = mean(diff_bp)\n\nSeeing what subjects blood pressure decreased\n\ndecrease = which(diff_bp &lt; 0)\n\ndecrease_subjects = names(diff_bp)[decrease]\n\ndecrease_subjects\n\n [1] \"Subject_1\"  \"Subject_2\"  \"Subject_3\"  \"Subject_4\"  \"Subject_5\" \n [6] \"Subject_6\"  \"Subject_7\"  \"Subject_8\"  \"Subject_10\" \"Subject_11\"\n[11] \"Subject_12\" \"Subject_14\" \"Subject_15\" \"Subject_16\" \"Subject_18\"\n[16] \"Subject_19\" \"Subject_20\"\n\n\nSeeing blood pressure increases post treatment\n\npositive = diff_bp[diff_bp &gt; 0]\n\naverage_positive = mean(positive)\n\naverage_positive\n\n[1] 3.666667\n\n\n\n\nTask 2: Basic Data Frame practice\n\nCreated dataframe with four columns to represent data\n\n\nbp_df = data.frame(patient, pre_bp, post_bp, diff_bp)\nrownames(bp_df) = 1:20\nbp_df\n\n      patient pre_bp post_bp diff_bp\n1   Subject_1    130     114     -16\n2   Subject_2    128      98     -30\n3   Subject_3    116     113      -3\n4   Subject_4    124      99     -25\n5   Subject_5    133     107     -26\n6   Subject_6    134     116     -18\n7   Subject_7    118     113      -5\n8   Subject_8    126     111     -15\n9   Subject_9    114     119       5\n10 Subject_10    127     117     -10\n11 Subject_11    141     101     -40\n12 Subject_12    138     119     -19\n13 Subject_13    128     130       2\n14 Subject_14    140     122     -18\n15 Subject_15    137     106     -31\n16 Subject_16    131     106     -25\n17 Subject_17    120     124       4\n18 Subject_18    128     102     -26\n19 Subject_19    139     117     -22\n20 Subject_20    135     113     -22\n\n\n\nCreating a subset of the data where the column diff_bp is only negative\n\n\nsubset(bp_df, diff_bp &lt; 0)\n\n      patient pre_bp post_bp diff_bp\n1   Subject_1    130     114     -16\n2   Subject_2    128      98     -30\n3   Subject_3    116     113      -3\n4   Subject_4    124      99     -25\n5   Subject_5    133     107     -26\n6   Subject_6    134     116     -18\n7   Subject_7    118     113      -5\n8   Subject_8    126     111     -15\n10 Subject_10    127     117     -10\n11 Subject_11    141     101     -40\n12 Subject_12    138     119     -19\n14 Subject_14    140     122     -18\n15 Subject_15    137     106     -31\n16 Subject_16    131     106     -25\n18 Subject_18    128     102     -26\n19 Subject_19    139     117     -22\n20 Subject_20    135     113     -22\n\n\n\nAdding a column that responds with TRUE if post treatment blood pressure is less than 120\n\n\nbp_df$lowpost_bp = bp_df$post_bp &lt; 120\nbp_df\n\n      patient pre_bp post_bp diff_bp lowpost_bp\n1   Subject_1    130     114     -16       TRUE\n2   Subject_2    128      98     -30       TRUE\n3   Subject_3    116     113      -3       TRUE\n4   Subject_4    124      99     -25       TRUE\n5   Subject_5    133     107     -26       TRUE\n6   Subject_6    134     116     -18       TRUE\n7   Subject_7    118     113      -5       TRUE\n8   Subject_8    126     111     -15       TRUE\n9   Subject_9    114     119       5       TRUE\n10 Subject_10    127     117     -10       TRUE\n11 Subject_11    141     101     -40       TRUE\n12 Subject_12    138     119     -19       TRUE\n13 Subject_13    128     130       2      FALSE\n14 Subject_14    140     122     -18      FALSE\n15 Subject_15    137     106     -31       TRUE\n16 Subject_16    131     106     -25       TRUE\n17 Subject_17    120     124       4      FALSE\n18 Subject_18    128     102     -26       TRUE\n19 Subject_19    139     117     -22       TRUE\n20 Subject_20    135     113     -22       TRUE\n\n\n\nPrinting the dataframe\n\n\nknitr::kable(bp_df)\n\n\n\n\npatient\npre_bp\npost_bp\ndiff_bp\nlowpost_bp\n\n\n\n\nSubject_1\n130\n114\n-16\nTRUE\n\n\nSubject_2\n128\n98\n-30\nTRUE\n\n\nSubject_3\n116\n113\n-3\nTRUE\n\n\nSubject_4\n124\n99\n-25\nTRUE\n\n\nSubject_5\n133\n107\n-26\nTRUE\n\n\nSubject_6\n134\n116\n-18\nTRUE\n\n\nSubject_7\n118\n113\n-5\nTRUE\n\n\nSubject_8\n126\n111\n-15\nTRUE\n\n\nSubject_9\n114\n119\n5\nTRUE\n\n\nSubject_10\n127\n117\n-10\nTRUE\n\n\nSubject_11\n141\n101\n-40\nTRUE\n\n\nSubject_12\n138\n119\n-19\nTRUE\n\n\nSubject_13\n128\n130\n2\nFALSE\n\n\nSubject_14\n140\n122\n-18\nFALSE\n\n\nSubject_15\n137\n106\n-31\nTRUE\n\n\nSubject_16\n131\n106\n-25\nTRUE\n\n\nSubject_17\n120\n124\n4\nFALSE\n\n\nSubject_18\n128\n102\n-26\nTRUE\n\n\nSubject_19\n139\n117\n-22\nTRUE\n\n\nSubject_20\n135\n113\n-22\nTRUE\n\n\n\n\n\n\n\nTask 3: List practice\n\nNew data frame for placebo data\n\n\npre_bp_placebo = c(138, 135, 147, 117, 152, 134, 114, 121, 131, 130)\n\npost_bp_placebo = c(105, 136, 123, 130, 134, 143, 135, 139, 120, 124)\n\nplacebo_df = data.frame(pre_bp_placebo, post_bp_placebo)\n\nplacebo_df\n\n   pre_bp_placebo post_bp_placebo\n1             138             105\n2             135             136\n3             147             123\n4             117             130\n5             152             134\n6             134             143\n7             114             135\n8             121             139\n9             131             120\n10            130             124\n\n\n\nCreating a list with both dataframes\n\n\nexperiments = list(treatment = bp_df, placebo = placebo_df)\n\nexperiments\n\n$treatment\n      patient pre_bp post_bp diff_bp lowpost_bp\n1   Subject_1    130     114     -16       TRUE\n2   Subject_2    128      98     -30       TRUE\n3   Subject_3    116     113      -3       TRUE\n4   Subject_4    124      99     -25       TRUE\n5   Subject_5    133     107     -26       TRUE\n6   Subject_6    134     116     -18       TRUE\n7   Subject_7    118     113      -5       TRUE\n8   Subject_8    126     111     -15       TRUE\n9   Subject_9    114     119       5       TRUE\n10 Subject_10    127     117     -10       TRUE\n11 Subject_11    141     101     -40       TRUE\n12 Subject_12    138     119     -19       TRUE\n13 Subject_13    128     130       2      FALSE\n14 Subject_14    140     122     -18      FALSE\n15 Subject_15    137     106     -31       TRUE\n16 Subject_16    131     106     -25       TRUE\n17 Subject_17    120     124       4      FALSE\n18 Subject_18    128     102     -26       TRUE\n19 Subject_19    139     117     -22       TRUE\n20 Subject_20    135     113     -22       TRUE\n\n$placebo\n   pre_bp_placebo post_bp_placebo\n1             138             105\n2             135             136\n3             147             123\n4             117             130\n5             152             134\n6             134             143\n7             114             135\n8             121             139\n9             131             120\n10            130             124\n\n\n\n3 different ways to access the first list element\n\n\nexperiments$treatment\n\n      patient pre_bp post_bp diff_bp lowpost_bp\n1   Subject_1    130     114     -16       TRUE\n2   Subject_2    128      98     -30       TRUE\n3   Subject_3    116     113      -3       TRUE\n4   Subject_4    124      99     -25       TRUE\n5   Subject_5    133     107     -26       TRUE\n6   Subject_6    134     116     -18       TRUE\n7   Subject_7    118     113      -5       TRUE\n8   Subject_8    126     111     -15       TRUE\n9   Subject_9    114     119       5       TRUE\n10 Subject_10    127     117     -10       TRUE\n11 Subject_11    141     101     -40       TRUE\n12 Subject_12    138     119     -19       TRUE\n13 Subject_13    128     130       2      FALSE\n14 Subject_14    140     122     -18      FALSE\n15 Subject_15    137     106     -31       TRUE\n16 Subject_16    131     106     -25       TRUE\n17 Subject_17    120     124       4      FALSE\n18 Subject_18    128     102     -26       TRUE\n19 Subject_19    139     117     -22       TRUE\n20 Subject_20    135     113     -22       TRUE\n\nexperiments[[1]]\n\n      patient pre_bp post_bp diff_bp lowpost_bp\n1   Subject_1    130     114     -16       TRUE\n2   Subject_2    128      98     -30       TRUE\n3   Subject_3    116     113      -3       TRUE\n4   Subject_4    124      99     -25       TRUE\n5   Subject_5    133     107     -26       TRUE\n6   Subject_6    134     116     -18       TRUE\n7   Subject_7    118     113      -5       TRUE\n8   Subject_8    126     111     -15       TRUE\n9   Subject_9    114     119       5       TRUE\n10 Subject_10    127     117     -10       TRUE\n11 Subject_11    141     101     -40       TRUE\n12 Subject_12    138     119     -19       TRUE\n13 Subject_13    128     130       2      FALSE\n14 Subject_14    140     122     -18      FALSE\n15 Subject_15    137     106     -31       TRUE\n16 Subject_16    131     106     -25       TRUE\n17 Subject_17    120     124       4      FALSE\n18 Subject_18    128     102     -26       TRUE\n19 Subject_19    139     117     -22       TRUE\n20 Subject_20    135     113     -22       TRUE\n\nexperiments[[\"treatment\"]]\n\n      patient pre_bp post_bp diff_bp lowpost_bp\n1   Subject_1    130     114     -16       TRUE\n2   Subject_2    128      98     -30       TRUE\n3   Subject_3    116     113      -3       TRUE\n4   Subject_4    124      99     -25       TRUE\n5   Subject_5    133     107     -26       TRUE\n6   Subject_6    134     116     -18       TRUE\n7   Subject_7    118     113      -5       TRUE\n8   Subject_8    126     111     -15       TRUE\n9   Subject_9    114     119       5       TRUE\n10 Subject_10    127     117     -10       TRUE\n11 Subject_11    141     101     -40       TRUE\n12 Subject_12    138     119     -19       TRUE\n13 Subject_13    128     130       2      FALSE\n14 Subject_14    140     122     -18      FALSE\n15 Subject_15    137     106     -31       TRUE\n16 Subject_16    131     106     -25       TRUE\n17 Subject_17    120     124       4      FALSE\n18 Subject_18    128     102     -26       TRUE\n19 Subject_19    139     117     -22       TRUE\n20 Subject_20    135     113     -22       TRUE\n\n\n\nAccessing pre blood pressure column from placebo data frame\n\n\nexperiments$placebo$pre_bp_placebo\n\n [1] 138 135 147 117 152 134 114 121 131 130\n\n\n\n\nTask 4: Control Flow Practice\n\nCreating the status column\n\n\nexperiments$treatment$status &lt;- character(20)\nexperiments$placebo$status &lt;- character(10)\n\n2,3. Creating the if/then logic statement to characterize post-treatment blood pressure for both dataframes\n\nfor (i in 1:nrow(experiments$treatment)) {\n  bp = experiments$treatment$post_bp[i]\n  if (bp &lt;= 120) {\n    experiments$treatment$status[i] = \"optimal\"\n  } else if (bp &gt; 120 & bp &lt;= 130) {\n    experiments$treatment$status[i] = \"borderline\"\n  } else {\n    experiments$treatment$status[i] = \"high\"\n  }\n}\n\nfor (i in 1:nrow(experiments$placebo)) {\n  bp = experiments$placebo$post_bp_placebo[i]\n  if (bp &lt;= 120) {\n    experiments$placebo$status[i] = \"optimal\"\n  } else if (bp &gt; 120 & bp &lt;= 130) {\n    experiments$placebo$status[i] = \"borderline\"\n  } else {\n    experiments$placebo$status[i] = \"high\"\n  }\n}\n\nexperiments\n\n$treatment\n      patient pre_bp post_bp diff_bp lowpost_bp     status\n1   Subject_1    130     114     -16       TRUE    optimal\n2   Subject_2    128      98     -30       TRUE    optimal\n3   Subject_3    116     113      -3       TRUE    optimal\n4   Subject_4    124      99     -25       TRUE    optimal\n5   Subject_5    133     107     -26       TRUE    optimal\n6   Subject_6    134     116     -18       TRUE    optimal\n7   Subject_7    118     113      -5       TRUE    optimal\n8   Subject_8    126     111     -15       TRUE    optimal\n9   Subject_9    114     119       5       TRUE    optimal\n10 Subject_10    127     117     -10       TRUE    optimal\n11 Subject_11    141     101     -40       TRUE    optimal\n12 Subject_12    138     119     -19       TRUE    optimal\n13 Subject_13    128     130       2      FALSE borderline\n14 Subject_14    140     122     -18      FALSE borderline\n15 Subject_15    137     106     -31       TRUE    optimal\n16 Subject_16    131     106     -25       TRUE    optimal\n17 Subject_17    120     124       4      FALSE borderline\n18 Subject_18    128     102     -26       TRUE    optimal\n19 Subject_19    139     117     -22       TRUE    optimal\n20 Subject_20    135     113     -22       TRUE    optimal\n\n$placebo\n   pre_bp_placebo post_bp_placebo     status\n1             138             105    optimal\n2             135             136       high\n3             147             123 borderline\n4             117             130 borderline\n5             152             134       high\n6             134             143       high\n7             114             135       high\n8             121             139       high\n9             131             120    optimal\n10            130             124 borderline\n\n\n\n\nTask 5: Function Writing\n\nCreating the statistical calculations function\n\n\nstat_calc = function(experiments, stat = \"mean\"){\n  my_fun = get(stat)\n  \n  experiments$treatment$diff = experiments$treatment$post_bp - experiments$treatment$pre_bp\n  experiments$placebo$diff = experiments$placebo$post_bp_placebo - experiments$placebo$pre_bp_placebo\n  \n  # Calculating stats for each column\n  treatment_pre = my_fun(experiments$treatment$pre_bp)\n  treatment_post = my_fun(experiments$treatment$post_bp)\n  treatment_diff = my_fun(experiments$treatment$diff)\n  \n  placebo_pre = my_fun(experiments$placebo$pre_bp_placebo)\n  placebo_post = my_fun(experiments$placebo$post_bp_placebo)\n  placebo_diff = my_fun(experiments$placebo$diff)\n  \n  # Create meaningful names for the results\n  result_names = c(\n    paste0(stat, \"_treatment_pre\"),\n    paste0(stat, \"_treatment_post\"),\n    paste0(stat, \"_treatment_diff\"),\n    paste0(stat, \"_placebo_pre\"),\n    paste0(stat, \"_placebo_post\"),\n    paste0(stat, \"_placebo_diff\")\n  )\n  \n   # Create a named vector for the results\n  result_values = c(\n    treatment_pre,\n    treatment_post,\n    treatment_diff,\n    placebo_pre,\n    placebo_post,\n    placebo_diff\n  )\n  \n  names(result_values) = result_names\n  \n  # Return the named vector\n  return(result_values)\n}\n\nstats_mean = stat_calc(experiments)\nstats_mean\n\n mean_treatment_pre mean_treatment_post mean_treatment_diff    mean_placebo_pre \n             129.35              112.35              -17.00              131.90 \n  mean_placebo_post   mean_placebo_diff \n             128.90               -3.00 \n\nstats_var = stat_calc(experiments, \"var\")\nstats_var\n\n var_treatment_pre var_treatment_post var_treatment_diff    var_placebo_pre \n          64.55526           74.76579          153.68421          149.87778 \n  var_placebo_post   var_placebo_diff \n         124.98889          341.33333 \n\nstats_sd = stat_calc(experiments, \"sd\")\nstats_sd\n\n sd_treatment_pre sd_treatment_post sd_treatment_diff    sd_placebo_pre \n         8.034629          8.646721         12.396944         12.242458 \n  sd_placebo_post   sd_placebo_diff \n        11.179843         18.475209 \n\nstats_min = stat_calc(experiments, \"min\")\nstats_min\n\n min_treatment_pre min_treatment_post min_treatment_diff    min_placebo_pre \n               114                 98                -40                114 \n  min_placebo_post   min_placebo_diff \n               105                -33 \n\nstats_max = stat_calc(experiments, \"max\")\nstats_max\n\n max_treatment_pre max_treatment_post max_treatment_diff    max_placebo_pre \n               141                130                  5                152 \n  max_placebo_post   max_placebo_diff \n               143                 21"
  }
]